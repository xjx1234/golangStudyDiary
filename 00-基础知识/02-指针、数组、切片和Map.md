## 指针、数组、切片和Map

### 数组

数组是一个由固定长度的特定类型元素组成的序列，一个数组可以由零个或多个元素组成。因为数组的长度是固定的，所以在Go语言中很少直接使用数组。和数组对应的类型是 Slice（切片），Slice 是可以增长和收缩的动态序列，功能也更灵活。所以切片在Go中使用频率更高。

数组的声明语法如下：

> var 数组变量名 [元素数量]Type

如下所示示例，展示了大致数组的定义使用方法：

```go
	var a [3]int  //定义三个整数的数组
	var b [3]int = [3]int{1,2,3} //定义数组并初始化
	c := [...]string{"hello", "word", "ok"} //在数组的定义中，如果在数组长度的位置出现“...”省略号，则表示数组的长度是根据初始化值的个数来计算
	fmt.Println(len(b)) // len函数获取数组长度
	fmt.Println(a[0])
	fmt.Println(c[0])

	// range 可以用来遍历数组
	for _,v := range c{
		fmt.Println(v)
	}

	var x [2][4] int = [2][4]int{{1,2,3,4}, {4,5,6,7}} //多维数组定义并初始化
	fmt.Println(x[0][1])
	fmt.Println(x[0][3])
```

### 切片

切片（slice）是建立在数组之上的更方便，更灵活，更强大的数据结构。切片并不存储任何元素而只是对现有数组的引用。



### 指针

Go语言指针与Java C语言指针有很大不同，Go语言只提供了指针允许你控制特定集合的数据结构、分配的数量以及内存访问模式，并不参与指针运算。

指针（pointer）在Go语言中可以被拆分为两个核心概念：

- 类型指针，允许对这个指针类型的数据进行修改，传递数据可以直接使用指针，而无须拷贝数据，类型指针不能进行偏移和运算。
- 切片，由指向起始元素的原始指针、元素数量和容量组成

受益于这样的约束和拆分，Go语言的指针类型变量即拥有指针高效访问的特点，又不会发生指针偏移，从而避免了非法修改关键性数据的问题。同时，垃圾回收也比较容易对不会发生偏移的指针进行检索和回收。切片比原始指针具备更强大的特性，而且更为安全。切片在发生越界时，运行时会报出宕机，并打出堆栈，而原始指针只会崩溃。

